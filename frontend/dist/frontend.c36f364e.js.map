{"mappings":"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","sources":["index.js"],"sourcesContent":["//import axios from 'axios';there is only one import axios needed, what is the global object?\r\n\r\nconst el = function (elementId) {\r\n    return document.getElementById(elementId);\r\n};\r\nconst td = function (text) {\r\n    return '<td>' + text + '</td>';\r\n};\r\nconst actionButtons = function (id) {\r\n    return `<td>\r\n        <button class=\"btn btn-warning btn-sm\" onclick=\"editTitle('${id}')\">Edit</button>\r\n        <button class=\"btn btn-danger btn-sm\" onclick=\"deleteTitle('${id}')\">Delete</button>\r\n    </td>`;\r\n};\r\n\r\n// Anonymous function that gathers info from the GET request and displays a list on the front end.\r\nwindow.titlesRecieved = function () {\r\n    axios.get('http://localhost:8082/api/movies')\r\n        .then((response) => {\r\n            const titleList = response.data;\r\n            const titleTable = el('tableBody');\r\n\r\n            titleList.forEach(function (contentTitle) {\r\n                const row = document.createElement('tr');\r\n                row.id = 'contentTitle' + contentTitle.id;\r\n                row.innerHTML =\r\n                    td(contentTitle.primaryTitle) +\r\n                    td(contentTitle.year) +\r\n                    td(contentTitle.titleType) +\r\n                    td(contentTitle.genres) +\r\n                    td(contentTitle.runtimeMinutes) +\r\n                    actionButtons(contentTitle.id);\r\n                titleTable.append(row);\r\n                console.log(contentTitle);\r\n            });\r\n        });\r\n};\r\nwindow.deleteTitle = function(primaryTitle) {\r\n    if (confirm(\"Are you sure you want to delete this title?\")) {\r\n        axios.delete('http://localhost:8082/api/movies/' + primaryTitle)\r\n            .then(() => {\r\n                window.titlesRecieved(); // Refresh table we recall the function.\r\n            })\r\n            .catch(err => alert(\"Error deleting: \" + err));\r\n    }\r\n};\r\nwindow.editTitle = function(id) {\r\n    const row = document.getElementById('contentTitle' + id);\r\n    const cells = row.getElementsByTagName('td');\r\n    // Save the current values\r\n    const current = {\r\n        primaryTitle: cells[0].innerText,\r\n        year: cells[1].innerText,\r\n        titleType: cells[2].innerText,\r\n        genres: cells[3].innerText,\r\n        runtimeMinutes: cells[4].innerText\r\n    };\r\n    //Here the values are replaced by inputs\r\n    row.innerHTML =\r\n        `<td><input type=\"text\" value=\"${current.primaryTitle}\" id=\"edit-title-${id}\" class=\"form-control form-control-sm\"></td>` +\r\n        `<td><input type=\"number\" value=\"${current.year}\" id=\"edit-year-${id}\" class=\"form-control form-control-sm\"></td>` +\r\n        `<td><input type=\"text\" value=\"${current.titleType}\" id=\"edit-type-${id}\" class=\"form-control form-control-sm\"></td>` +\r\n        `<td><input type=\"text\" value=\"${current.genres}\" id=\"edit-genres-${id}\" class=\"form-control form-control-sm\"></td>` +\r\n        `<td><input type=\"number\" value=\"${current.runtimeMinutes}\" id=\"edit-runtime-${id}\" class=\"form-control form-control-sm\"></td>` +\r\n        `<td>\r\n            <button class=\"btn btn-success btn-sm\" onclick=\"saveTitle('${id}')\">Guardar</button>\r\n            <button class=\"btn btn-secondary btn-sm\" onclick=\"window.titlesRecieved()\">Cancelar</button>\r\n        </td>`;\r\n};\r\n\r\nwindow.saveTitle = function(id) {\r\n    // Input the values that you desired\r\n    const updated = {\r\n        primaryTitle: document.getElementById(`edit-title-${id}`).value,\r\n        year: document.getElementById(`edit-year-${id}`).value,\r\n        titleType: document.getElementById(`edit-type-${id}`).value,\r\n        genres: document.getElementById(`edit-genres-${id}`).value,\r\n        runtimeMinutes: document.getElementById(`edit-runtime-${id}`).value\r\n    };\r\n    axios.put('http://localhost:8082/api/movies/' + id, updated)\r\n        .then(() => {\r\n            window.titlesRecieved(); // Refresca la tabla\r\n        })\r\n        .catch(err => alert(\"Error al guardar: \" + err));\r\n};\r\nwindow.titlesRecieved();"],"names":[],"version":3,"file":"frontend.c36f364e.js.map","sourceRoot":"/__parcel_source_root/"}